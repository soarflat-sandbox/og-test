<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>OG TEST</title>
<meta name="description" content="OGの確認テスト">
<meta property="og:site_name" content="OG TEST">
<meta property="og:title" content="OG TEST">
<meta property="og:description" content="OGの確認テスト">
<meta property="og:type" content="website">
<meta property="og:url" content="https://soarflat-sandbox.github.io/og-test/">
<meta property="og:image" content="https://soarflat-sandbox.github.io/og-test/sns.png">
</head>
<body>
  <a id="share">シェアする</a>

  <script>
    const metas = document.head.children;

    for (let i = 0; i < metas.length; i += 1) {
      const property = metas[i].getAttribute('property');

      if (property === 'og:url') {
        const ogUrl = metas[i];
        ogUrl.setAttribute('content', location.href + location.search);
      }
    }

    const share = document.getElementById('share');
    const url = `http://www.facebook.com/share.php?u=${location.href + location.search}`;

    share.addEventListener('click', e => {
      e.preventDefault();

      window.open(url, 'FBwindow', 'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes');
    });
  </script>
</body>
</html>